{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\emili\\\\Desktop\\\\facu\\\\react\\\\practica\\\\e-commerce\\\\e-commerce\\\\src\\\\components\\\\styledComponent\\\\ItemInfoPage.js\",\n  _s = $RefreshSig$();\nimport { useParams } from 'react-router-dom';\nimport { redirect } from \"react-router-dom\";\nimport { useEffect, useState } from 'react';\nimport LoadingBar from './LoadingBar';\nimport ItemCard from './ItemCard';\nimport { useSelector } from 'react-redux';\nimport { useDispatch } from 'react-redux';\nimport { cartItems } from '../../features/cart';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ItemInfoPage = () => {\n  _s();\n  const items = useSelector(state => state.items.value);\n  const itemsAddedToCart = useSelector(state => state.cart.value);\n  const dispatch = useDispatch();\n  const itemId = useParams();\n  const [item, setItem] = useState(null);\n  const [currency] = useState('$');\n  const addToCart = item => {\n    const exists = itemsAddedToCart.find(product => {\n      return Number(product.id) === Number(item.id);\n    });\n    console.log(exists);\n    if (exists) {\n      alert('PRODUCTO YA SELECCIONADO (de momento no se controlas cantidades ni se compra mas de una unidad');\n    } else {\n      dispatch(cartItems(item));\n      redirect('/cart');\n    }\n  };\n  useEffect(() => {\n    setItem(items.find(item => item.id === Number(itemId.id)));\n  }, [itemId, item]);\n  if (item) {\n    return /*#__PURE__*/_jsxDEV(ItemCard, {\n      item: item,\n      addToCart: addToCart,\n      currency: currency\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(LoadingBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 16\n    }, this);\n  }\n};\n_s(ItemInfoPage, \"IbijUcwWi8YunVbochrHhGGxBSA=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useParams];\n});\n_c = ItemInfoPage;\nexport default ItemInfoPage;\nvar _c;\n$RefreshReg$(_c, \"ItemInfoPage\");","map":{"version":3,"names":["useParams","redirect","useEffect","useState","LoadingBar","ItemCard","useSelector","useDispatch","cartItems","ItemInfoPage","items","state","value","itemsAddedToCart","cart","dispatch","itemId","item","setItem","currency","addToCart","exists","find","product","Number","id","console","log","alert"],"sources":["C:/Users/emili/Desktop/facu/react/practica/e-commerce/e-commerce/src/components/styledComponent/ItemInfoPage.js"],"sourcesContent":["import { useParams } from 'react-router-dom';\r\nimport { redirect } from \"react-router-dom\";\r\n\r\nimport { useEffect, useState } from 'react';\r\n\r\nimport LoadingBar from './LoadingBar';\r\nimport ItemCard from './ItemCard';\r\n\r\nimport { useSelector } from 'react-redux';\r\nimport { useDispatch } from 'react-redux';\r\nimport { cartItems } from '../../features/cart';\r\n\r\n\r\nconst ItemInfoPage = () => {\r\n\r\n    const items = useSelector((state)=>state.items.value)\r\n    const itemsAddedToCart = useSelector((state)=>state.cart.value)\r\n    const dispatch=useDispatch();\r\n    \r\n\r\n    const itemId = useParams();\r\n    const [item, setItem] = useState(null)\r\n    \r\n    const [currency] = useState('$')\r\n\r\n    const addToCart = (item) => {\r\n        const exists = itemsAddedToCart.find((product)=>{return Number(product.id)===Number(item.id)})\r\n        console.log(exists)\r\n        if(exists){\r\n            alert('PRODUCTO YA SELECCIONADO (de momento no se controlas cantidades ni se compra mas de una unidad')\r\n        }else{\r\n           dispatch(cartItems(item))\r\n            redirect('/cart')\r\n        }\r\n        \r\n    }\r\n\r\n    useEffect(() => {\r\n        setItem(items.find(item=>item.id===Number(itemId.id)))\r\n    }, [itemId,item])\r\n\r\n\r\n    if (item) {\r\n        return (\r\n            <ItemCard item={item} addToCart={addToCart} currency={currency}/>\r\n        )\r\n    } else {\r\n        return <LoadingBar/>\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default ItemInfoPage"],"mappings":";;AAAA,SAASA,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,QAAQ,QAAQ,kBAAkB;AAE3C,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,QAAQ,MAAM,YAAY;AAEjC,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,SAAS,QAAQ,qBAAqB;AAAC;AAGhD,MAAMC,YAAY,GAAG,MAAM;EAAA;EAEvB,MAAMC,KAAK,GAAGJ,WAAW,CAAEK,KAAK,IAAGA,KAAK,CAACD,KAAK,CAACE,KAAK,CAAC;EACrD,MAAMC,gBAAgB,GAAGP,WAAW,CAAEK,KAAK,IAAGA,KAAK,CAACG,IAAI,CAACF,KAAK,CAAC;EAC/D,MAAMG,QAAQ,GAACR,WAAW,EAAE;EAG5B,MAAMS,MAAM,GAAGhB,SAAS,EAAE;EAC1B,MAAM,CAACiB,IAAI,EAAEC,OAAO,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAEtC,MAAM,CAACgB,QAAQ,CAAC,GAAGhB,QAAQ,CAAC,GAAG,CAAC;EAEhC,MAAMiB,SAAS,GAAIH,IAAI,IAAK;IACxB,MAAMI,MAAM,GAAGR,gBAAgB,CAACS,IAAI,CAAEC,OAAO,IAAG;MAAC,OAAOC,MAAM,CAACD,OAAO,CAACE,EAAE,CAAC,KAAGD,MAAM,CAACP,IAAI,CAACQ,EAAE,CAAC;IAAA,CAAC,CAAC;IAC9FC,OAAO,CAACC,GAAG,CAACN,MAAM,CAAC;IACnB,IAAGA,MAAM,EAAC;MACNO,KAAK,CAAC,gGAAgG,CAAC;IAC3G,CAAC,MAAI;MACFb,QAAQ,CAACP,SAAS,CAACS,IAAI,CAAC,CAAC;MACxBhB,QAAQ,CAAC,OAAO,CAAC;IACrB;EAEJ,CAAC;EAEDC,SAAS,CAAC,MAAM;IACZgB,OAAO,CAACR,KAAK,CAACY,IAAI,CAACL,IAAI,IAAEA,IAAI,CAACQ,EAAE,KAAGD,MAAM,CAACR,MAAM,CAACS,EAAE,CAAC,CAAC,CAAC;EAC1D,CAAC,EAAE,CAACT,MAAM,EAACC,IAAI,CAAC,CAAC;EAGjB,IAAIA,IAAI,EAAE;IACN,oBACI,QAAC,QAAQ;MAAC,IAAI,EAAEA,IAAK;MAAC,SAAS,EAAEG,SAAU;MAAC,QAAQ,EAAED;IAAS;MAAA;MAAA;MAAA;IAAA,QAAE;EAEzE,CAAC,MAAM;IACH,oBAAO,QAAC,UAAU;MAAA;MAAA;MAAA;IAAA,QAAE;EACxB;AAGJ,CAAC;AAAA,GAtCKV,YAAY;EAAA,QAEAH,WAAW,EACAA,WAAW,EACrBC,WAAW,EAGXP,SAAS;AAAA;AAAA,KAPtBS,YAAY;AAwClB,eAAeA,YAAY;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}