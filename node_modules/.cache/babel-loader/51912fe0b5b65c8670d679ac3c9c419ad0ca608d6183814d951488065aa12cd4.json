{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/emili/Desktop/facu/react/practica/e-commerce/e-commerce/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/emili/Desktop/facu/react/practica/e-commerce/e-commerce/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{Box}from'@mui/material';import React,{useEffect}from'react';import ActionAreaCard from'../styledComponent/ActionAreaCard';import LoadingBar from'../styledComponent/LoadingBar';import NavLink from'../styledComponent/NavLink';import{useSelector}from'react-redux';import{useDispatch}from'react-redux';import{getItems}from'../../features/items';import{jsx as _jsx}from\"react/jsx-runtime\";var Products=function Products(_ref){var url=_ref.url;var items=useSelector(function(state){return state.items.value;});var dispatch=useDispatch();useEffect(function(){var getData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetchList();case 3:data=_context.sent;dispatch(getItems(data));_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);throw _context.t0;case 11:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function getData(){return _ref2.apply(this,arguments);};}();getData();},[]);//Get\nvar fetchList=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var res,list;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(url);case 3:res=_context2.sent;if(res.ok){_context2.next=6;break;}throw new Error('Failed to fetch data');case 6:_context2.next=8;return res.json();case 8:list=_context2.sent;return _context2.abrupt(\"return\",list);case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](0);console.log('error:'+_context2.t0);throw _context2.t0;case 16:case\"end\":return _context2.stop();}},_callee2,null,[[0,12]]);}));return function fetchList(){return _ref3.apply(this,arguments);};}();if(items.length>0){return/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\",flexDirection:\"row\",flexWrap:\"wrap\",justifyContent:'space-around'},children:items.map(function(item){return/*#__PURE__*/_jsx(NavLink,{to:\"/products/\"+item.id,children:/*#__PURE__*/_jsx(ActionAreaCard,{title:item.title,price:item.price,image:item.image,id:item.id})},item.id);})});}else{return/*#__PURE__*/_jsx(LoadingBar,{});}};export default Products;","map":{"version":3,"names":["Box","React","useEffect","ActionAreaCard","LoadingBar","NavLink","useSelector","useDispatch","getItems","Products","url","items","state","value","dispatch","getData","fetchList","data","console","log","fetch","res","ok","Error","json","list","length","display","flexDirection","flexWrap","justifyContent","map","item","id","title","price","image"],"sources":["C:/Users/emili/Desktop/facu/react/practica/e-commerce/e-commerce/src/components/sectionComponents/Products.js"],"sourcesContent":["import {Box} from '@mui/material'\r\nimport React, {useEffect} from 'react'\r\nimport ActionAreaCard from '../styledComponent/ActionAreaCard'\r\nimport LoadingBar from '../styledComponent/LoadingBar'\r\nimport NavLink from '../styledComponent/NavLink'\r\n\r\nimport { useSelector } from 'react-redux';\r\nimport { useDispatch } from 'react-redux'\r\nimport { getItems } from '../../features/items'\r\n\r\n\r\nconst Products = ({ url }) => {\r\n\r\n  const items = useSelector((state)=>state.items.value )\r\n  const dispatch=useDispatch();\r\n  \r\n\r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      try {\r\n        let data = await fetchList();\r\n        dispatch(getItems(data))\r\n      } catch (err) {\r\n        console.log(err)\r\n        throw err\r\n      }\r\n    }\r\n    getData();\r\n  }, [])\r\n\r\n  //Get\r\n  const fetchList = async () => {\r\n    try {\r\n      let res = await fetch(url);\r\n      if (!res.ok) {\r\n        throw new Error('Failed to fetch data')\r\n      }\r\n      let list = await res.json();\r\n      return list;\r\n    } catch (err) {\r\n      console.log('error:' + err)\r\n      throw err\r\n    }\r\n  }\r\n\r\n  if (items.length > 0) {\r\n    return (\r\n      <Box sx={{ display: \"flex\", flexDirection: \"row\", flexWrap: \"wrap\", justifyContent: 'space-around' }}>\r\n        \r\n        {items.map((item) => {\r\n          return (\r\n            <NavLink key={item.id} to={`/products/` + item.id}>\r\n              <ActionAreaCard\r\n                title={item.title}\r\n                price={item.price}\r\n                image={item.image}\r\n                id={item.id}\r\n              />\r\n            </NavLink>\r\n          )\r\n        })}\r\n      </Box>)\r\n\r\n  } else {\r\n    return (\r\n      <LoadingBar/>\r\n    )\r\n  }\r\n\r\n\r\n\r\n}\r\n\r\nexport default Products"],"mappings":"4TAAA,OAAQA,GAAG,KAAO,eAAe,CACjC,MAAOC,MAAK,EAAGC,SAAS,KAAO,OAAO,CACtC,MAAOC,eAAc,KAAM,mCAAmC,CAC9D,MAAOC,WAAU,KAAM,+BAA+B,CACtD,MAAOC,QAAO,KAAM,4BAA4B,CAEhD,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,QAAQ,KAAQ,sBAAsB,4CAG/C,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,MAAgB,IAAVC,IAAG,MAAHA,GAAG,CAErB,GAAMC,MAAK,CAAGL,WAAW,CAAC,SAACM,KAAK,QAAGA,MAAK,CAACD,KAAK,CAACE,KAAK,GAAE,CACtD,GAAMC,SAAQ,CAACP,WAAW,EAAE,CAG5BL,SAAS,CAAC,UAAM,CACd,GAAMa,QAAO,6FAAG,mLAEKC,UAAS,EAAE,QAAxBC,IAAI,eACRH,QAAQ,CAACN,QAAQ,CAACS,IAAI,CAAC,CAAC,gFAExBC,OAAO,CAACC,GAAG,aAAK,sFAGnB,kBARKJ,QAAO,2CAQZ,CACDA,OAAO,EAAE,CACX,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,GAAMC,UAAS,6FAAG,8LAEEI,MAAK,CAACV,GAAG,CAAC,QAAtBW,GAAG,mBACFA,GAAG,CAACC,EAAE,+BACH,IAAIC,MAAK,CAAC,sBAAsB,CAAC,+BAExBF,IAAG,CAACG,IAAI,EAAE,QAAvBC,IAAI,iDACDA,IAAI,+DAEXP,OAAO,CAACC,GAAG,CAAC,QAAQ,aAAM,CAAC,0FAG9B,kBAZKH,UAAS,2CAYd,CAED,GAAIL,KAAK,CAACe,MAAM,CAAG,CAAC,CAAE,CACpB,mBACE,KAAC,GAAG,EAAC,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,KAAK,CAAEC,QAAQ,CAAE,MAAM,CAAEC,cAAc,CAAE,cAAe,CAAE,UAElGnB,KAAK,CAACoB,GAAG,CAAC,SAACC,IAAI,CAAK,CACnB,mBACE,KAAC,OAAO,EAAe,EAAE,CAAE,aAAeA,IAAI,CAACC,EAAG,uBAChD,KAAC,cAAc,EACb,KAAK,CAAED,IAAI,CAACE,KAAM,CAClB,KAAK,CAAEF,IAAI,CAACG,KAAM,CAClB,KAAK,CAAEH,IAAI,CAACI,KAAM,CAClB,EAAE,CAAEJ,IAAI,CAACC,EAAG,EACZ,EANUD,IAAI,CAACC,EAAE,CAOX,CAEd,CAAC,CAAC,EACE,CAEV,CAAC,IAAM,CACL,mBACE,KAAC,UAAU,IAAE,CAEjB,CAIF,CAAC,CAED,cAAexB,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}